{% extends "layout.html" %}
{% block title %}Pento Dashboard{% endblock %}

{% block content %}
<div class="dashboard-container">
    <nav class="sidebar">
        <div class="sidebar-header">
            <img src="{{ url_for('static', filename='images/hacker_logo.png') }}" alt="Pento Logo" class="sidebar-logo">
            <h2>Pento</h2>
        </div>

        <ul id="tools-list" class="tool-list">
            <li><button id="new-scan-btn" class="tool-link green-button">New Scan</button></li>
            <li><button id="dashboard-btn" class="tool-link active">Dashboard</button></li>
            <li><button id="attack-surface-btn" class="tool-link">Attack Surface</button></li>
            <li><button id="findings-btn" class="tool-link">Findings</button></li>
            <li><button id="assets-btn" class="tool-link">Assets</button></li>
            <li><button id="reports-btn" class="tool-link">Reports</button></li>
            <li><button id="chatbot-btn" class="tool-link">CLI</button></li>
        </ul>
    </nav>

    <main class="main-content" id="main-content">
        <header class="dashboard-header">
            <h1>Security Operations Center</h1>
            <div class="user-controls">
                <span class="username">{{ current_user.username }}</span>
                <form action="{{ url_for('auth.logout') }}" method="POST" class="logout-form">
                    <button type="submit" class="logout-button">Logout</button>
                </form>
            </div>
        </header>

        <div class="dashboard-grid">
            <div class="grid-item tool-stats">
                <h2>Active Scans</h2>
                <div id="active-scans-legend" style="text-align:center;margin:2.5em 0 0 0;font-size:1.2em;"></div>
            </div>
            <div class="grid-item recent-activity">
                <h2>Recent Activity</h2>
                <ul id="recent-activity-timeline" style="list-style:none;padding:0;margin:0;"></ul>
            </div>
        </div>

        <div class="attack-surface-summary">
            <h2>Attack Surface Summary</h2>
            <div class="summary-grid">
                <div class="summary-card"><h3 id="ip-address-count">0</h3><p>IP ADDRESS</p></div>
                <div class="summary-card"><h3 id="hostnames-count">0</h3><p>DOMAINS</p></div>
                <div class="summary-card"><h3 id="port-count">0</h3><p>PORTS</p></div>
                <div class="summary-card"><h3 id="protocol-count">0</h3><p>SUBDOMAINS</p></div>
                <div class="summary-card"><h3 id="services-count">0</h3><p>ENDPOINTS</p></div>
                <div class="summary-card"><h3 id="technologies-count">0</h3><p>TECHNOLOGIES</p></div>
            </div>
        </div>

        <div class="dashboard-extras" style="margin-top:2rem;display:flex;gap:2rem;">
            <div class="risk-score-card summary-card" style="flex:1;text-align:center;">
                <h2>Risk Score</h2>
                <div id="risk-score-value" style="font-size:2.5rem;color:#f00;">--</div>
                <div id="risk-score-desc" style="font-size:1.1rem;color:#aaa;">Calculating...</div>
            </div>
        </div>

       
        
        <script src="{{ url_for('static', filename='js/ai_scanner.js') }}"></script>
       

        
    </main>
</div>


{% endblock %}
